load stormdata

%%
figure(9527)
clf,hold on
X = [lx;ly;lz]';
[K,V] = convhulln(X);
% trisurf(K,X(:,1),X(:,2),X(:,3),[1:length(lx)])
patch('Faces',K,'Vertices',X,...
         'FaceColor',       [0.8 0.8 1.0], ...
         'EdgeColor',       [0.8 0.8 1.0]/2,        ...
         'FaceLighting',    'gouraud',     ...
         'AmbientStrength', 0.15);     
%%
X2 = [lx+6000;ly+8000;lz+300]';
[K2,V2] = convhulln(X2);
patch('Faces',K2,'Vertices',X2,...
         'FaceColor',       [0.8 1 0.8], ...
         'EdgeColor',       [0.8 1 0.8]/2,        ...
         'FaceLighting',    'gouraud',     ...
         'AmbientStrength', 0.15);
%%
X3 = [lx+16000;ly+2000;lz+800]';
[K3,V3] = convhulln(X3);
patch('Faces',K3,'Vertices',X3,...
         'FaceColor',       [1 0.8 0.8], ...
         'EdgeColor',       [1 0.8 0.8]/2,        ...
         'FaceLighting',    'gouraud',     ...
         'AmbientStrength', 0.15);
%%

I = imread('map.png');
surface('XData',[500 22500; 500 22500],'YData',[500 500; 22500 22500],...
        'ZData',[0 0; 0 0],'CData',flipdim(I,1),...
        'FaceColor','texturemap','EdgeColor','none','FaceLighting','gouraud',     ...
         'AmbientStrength', 0.15);
hold off

%%
% cd 'C:\Users\user\Documents\GitHub\GoT\x3d'
figure2xhtml('test/example80',figure(9527),struct('embedimages',true))

close